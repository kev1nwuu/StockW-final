{"ast":null,"code":"import _toConsumableArray from\"C:/Users/98414/Desktop/StockW_final/node_modules/@babel/runtime/helpers/esm/toConsumableArray.js\";import _slicedToArray from\"C:/Users/98414/Desktop/StockW_final/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import React,{createContext,useState}from'react';import{jsx as _jsx}from\"react/jsx-runtime\";export var ProductContext=/*#__PURE__*/createContext();export var ProductProvider=function ProductProvider(_ref){var children=_ref.children;var _useState=useState(null),_useState2=_slicedToArray(_useState,2),selectedProductInfo=_useState2[0],setSelectedProductInfo=_useState2[1];var _useState3=useState(JSON.parse(localStorage.getItem('cart'))||[]),_useState4=_slicedToArray(_useState3,2),cart=_useState4[0],setCart=_useState4[1];var selectProduct=function selectProduct(product){setSelectedProductInfo(product);};var addToCart=function addToCart(product){// Check if the product already exists in the cart\nvar existingProductIndex=cart.findIndex(function(item){return item.name===product.name&&item.size===product.size&&item.color===product.color;});var newCart;if(existingProductIndex!==-1){// If the product already exists, update its quantity\nnewCart=_toConsumableArray(cart);newCart[existingProductIndex].quantity+=product.quantity;}else{// If the product does not exist, add it to the cart\nnewCart=[].concat(_toConsumableArray(cart),[product]);}// Save the updated cart to local storage\nlocalStorage.setItem('cart',JSON.stringify(newCart));// Update the cart state\nsetCart(newCart);};var removeFromCart=function removeFromCart(product){var newCart=cart.filter(function(item){return item.name!==product.name||item.size!==product.size||item.color!==product.color;});localStorage.setItem('cart',JSON.stringify(newCart));setCart(newCart);};var updateQuantity=function updateQuantity(product,newQuantity){var newCart=_toConsumableArray(cart);var productIndex=newCart.findIndex(function(item){return item.name===product.name&&item.size===product.size&&item.color===product.color;});if(productIndex!==-1){if(newQuantity===0){newCart.splice(productIndex,1);}else{newCart[productIndex].quantity=newQuantity;}localStorage.setItem('cart',JSON.stringify(newCart));setCart(newCart);}};return/*#__PURE__*/_jsx(ProductContext.Provider,{value:{selectedProductInfo:selectedProductInfo,selectProduct:selectProduct,cart:cart,addToCart:addToCart,removeFromCart:removeFromCart,updateQuantity:updateQuantity},children:children});};export default ProductContext;","map":{"version":3,"names":["React","createContext","useState","jsx","_jsx","ProductContext","ProductProvider","_ref","children","_useState","_useState2","_slicedToArray","selectedProductInfo","setSelectedProductInfo","_useState3","JSON","parse","localStorage","getItem","_useState4","cart","setCart","selectProduct","product","addToCart","existingProductIndex","findIndex","item","name","size","color","newCart","_toConsumableArray","quantity","concat","setItem","stringify","removeFromCart","filter","updateQuantity","newQuantity","productIndex","splice","Provider","value"],"sources":["C:/Users/98414/Desktop/StockW_final/src/compenents/ProductContext.js"],"sourcesContent":["import React, { createContext, useState } from 'react';\r\n\r\n\r\nexport const ProductContext = createContext();\r\n\r\nexport const ProductProvider = ({ children }) => {\r\n  \r\n  const [selectedProductInfo, setSelectedProductInfo] = useState(null);\r\n  const [cart, setCart] = useState(JSON.parse(localStorage.getItem('cart')) || []);\r\n\r\n  const selectProduct = (product) => {\r\n    setSelectedProductInfo(product);\r\n  };\r\n\r\n  const addToCart = (product) => {\r\n    // Check if the product already exists in the cart\r\n    const existingProductIndex = cart.findIndex(\r\n      (item) => item.name === product.name && item.size === product.size && item.color === product.color\r\n    );\r\n  \r\n    let newCart;\r\n    if (existingProductIndex !== -1) {\r\n      // If the product already exists, update its quantity\r\n      newCart = [...cart];\r\n      newCart[existingProductIndex].quantity += product.quantity;\r\n    } else {\r\n      // If the product does not exist, add it to the cart\r\n      newCart = [...cart, product];\r\n    }\r\n  \r\n    // Save the updated cart to local storage\r\n    localStorage.setItem('cart', JSON.stringify(newCart));\r\n  \r\n    // Update the cart state\r\n    setCart(newCart);\r\n  };\r\n\r\n  const removeFromCart = (product) => {\r\n    const newCart = cart.filter(\r\n      (item) =>\r\n        item.name !== product.name ||\r\n        item.size !== product.size ||\r\n        item.color !== product.color\r\n    );\r\n    localStorage.setItem('cart', JSON.stringify(newCart));\r\n    setCart(newCart);\r\n  };\r\n  \r\n  const updateQuantity = (product, newQuantity) => {\r\n    const newCart = [...cart];\r\n    const productIndex = newCart.findIndex(\r\n      (item) =>\r\n        item.name === product.name &&\r\n        item.size === product.size &&\r\n        item.color === product.color\r\n    );\r\n    if (productIndex !== -1) {\r\n      if (newQuantity === 0) {\r\n        newCart.splice(productIndex, 1);\r\n      } else {\r\n        newCart[productIndex].quantity = newQuantity;\r\n      }\r\n      localStorage.setItem('cart', JSON.stringify(newCart));\r\n      setCart(newCart);\r\n    }\r\n  };\r\n\r\n  return (\r\n    <ProductContext.Provider\r\n      value={{ selectedProductInfo, selectProduct, cart, addToCart, removeFromCart,updateQuantity}}\r\n    >\r\n      {children}\r\n    </ProductContext.Provider>\r\n  );\r\n};\r\n\r\nexport default ProductContext;\r\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}